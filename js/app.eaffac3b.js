(function(t){function e(e){for(var n,o,a=e[0],h=e[1],u=e[2],d=0,l=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&l.push(s[o][0]),s[o]=0;for(n in h)Object.prototype.hasOwnProperty.call(h,n)&&(t[n]=h[n]);f&&f(e);while(l.length)l.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,a=1;a<i.length;a++){var h=i[a];0!==s[h]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],h=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var f=h;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("85ec"),s=i.n(n);s.a},"379c":function(t,e,i){"use strict";var n=i("f846"),s=i.n(n);s.a},"3b36":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Controller")],1)},r=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"game"}},[i("div",{attrs:{id:"container"}},[i("button",{attrs:{id:"add"},on:{click:function(e){t.mode=1}}},[t._v("Add walls")]),i("button",{attrs:{id:"remove"},on:{click:function(e){t.mode=0}}},[t._v("Remove walls")]),i("button",{attrs:{id:"start"},on:{click:function(e){t.mode=2}}},[t._v("Choose start")]),i("button",{attrs:{id:"finish"},on:{click:function(e){t.mode=3}}},[t._v("Choose finish")])]),i("Board",{attrs:{mode:t.mode}})],1)},a=[],h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"buttons"}},[i("button",{on:{click:t.reset}},[t._v("Reset")]),i("button",{on:{click:t.pathFind}},[t._v("Path find")])]),i("p",[t._v(t._s(t.errorText))]),i("canvas",{attrs:{id:"board",width:"750",height:"750"}})])},u=[],f=(i("cb29"),i("4160"),i("c975"),i("a434"),i("159b"),i("bee2")),d=i("d4ec"),l={name:"Board",props:["mode"],data:function(){return{flagStart:!1,flagFinish:!1,x:0,y:0,width:750,S:-1,F:-1,errorText:"",path:[]}},computed:{n:function(){return parseInt(this.$vssWidth)<1080?15:20},V:function(){return this.n*this.n},field:function(){for(var t=new Array(this.n),e=0;e<this.n;e++)t[e]=new Array(this.n);for(var i=0;i<this.n;i++)for(var n=0;n<this.n;n++)t[i][n]=0;return t},adja:function(){for(var t=new Array(this.V),e=0;e<this.V;e++)t[e]=[];return t},parent:function(){return new Array(this.V)},dist:function(){return new Array(this.V)},step:function(){return this.width/this.n}},methods:{h:function(t){var e=this.numberToPosition(this.F),i=this.numberToPosition(t),n=e[0]-i[0],s=e[1]-i[1];return Math.sqrt(n*n+s*s)},relax:function(t,e,i){this.dist[e]>this.dist[t]+1&&(this.parent[e]=t,this.dist[e]=this.dist[t]+1,i.contains(e)&&i.remove(e),i.enqueue(e,this.dist[e]+this.h(e)))},findPos:function(t,e){return[Math.floor(t/this.step),Math.floor(e/this.step)]},numberToPosition:function(t){var e=[];return e[0]=Math.floor(t/this.n),e[1]=t%this.n,e},positionToNumber:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.n;return t*i+e},get:function(t,e){return this.field[t][e]},set:function(t,e,i){this.field[t][e]=i},setStart:function(t,e){this.set(t,e,"s"),this.S=this.positionToNumber(t,e)},setFinish:function(t,e){this.set(t,e,"f"),this.F=this.positionToNumber(t,e)},addEdge:function(t,e){this.adja[t].push(e),this.adja[e].push(t)},adj:function(t){return this.adja[t]},printBoard:function(){console.log(this.field)},build:function(){for(var t=0;t<this.V;t++)t-this.n>=0&&-1==this.adja[t].indexOf(t-this.n)&&this.addEdge(t,t-this.n),t+this.n>=0&&t+this.n<this.V&&-1==this.adja[t].indexOf(t+this.n)&&this.addEdge(t,t+this.n),-1==this.adja[t].indexOf(t+1)&&t%this.n!=this.n-1&&this.addEdge(t,t+1),-1==this.adja[t].indexOf(t-1)&&t%this.n!=0&&this.addEdge(t,t-1)},reset:function(){for(var t=0;t<this.n;t++)for(var e=0;e<this.n;e++)this.field[t][e]=0;this.S=-1,this.F=-1,this.errorText="",this.vueCanvas.clearRect(0,0,this.width,this.width),this.drawGrid(this.vueCanvas)},drawGrid:function(t){for(var e=0;e<=this.width;e+=this.step)t.moveTo(e,0),t.lineTo(e,this.width),t.stroke();for(var i=0;i<=this.width;i+=this.step)t.moveTo(0,i),t.lineTo(this.width,i),t.stroke()},drawPath:function(t){for(var e=0;e<t.length;e++){var i=this.numberToPosition(t[e]);this.vueCanvas.fillStyle="blue",this.vueCanvas.fillRect(i[0]*this.step,i[1]*this.step,this.step,this.step)}},drawBlack:function(t){var e=this.positionToNumber(t[0],t[1]);e!=this.S&&e!=this.F&&(this.vueCanvas.fillStyle="black",this.vueCanvas.fillRect(t[0]*this.step,t[1]*this.step,this.step,this.step),this.set(t[0],t[1],1))},addWalls:function(t,e){this.x=t.pageX-e.offsetLeft,this.y=t.pageY-e.offsetTop;var i=this.findPos(this.x,this.y);this.drawBlack(i)},initCanvas:function(){var t=document.getElementById("board"),e=t.getContext("2d");this.vueCanvas=e,this.drawGrid(e);var i=this;t.addEventListener("click",(function(n){i.x=n.pageX-t.offsetLeft,i.y=n.pageY-t.offsetTop;var s=[Math.floor(i.x/i.step)*i.step,Math.floor(i.y/i.step)*i.step];switch(i.mode){case 0:var r=i.findPos(i.x,i.y),o=i.positionToNumber(r[0],r[1]);o!=i.S&&o!=i.F&&(e.fillStyle="white",e.fillRect(s[0],s[1],i.step,i.step),i.set(r[0],r[1],0));break;case 2:if(i.S<0){e.fillStyle="green",e.fillRect(s[0],s[1],i.step,i.step);var a=i.findPos(i.x,i.y);i.setStart(a[0],a[1])}break;case 3:if(i.F<0){e.fillStyle="orange",e.fillRect(s[0],s[1],i.step,i.step);var h=i.findPos(i.x,i.y);i.setFinish(h[0],h[1])}break;default:break}i.drawGrid(e)}));var n=!1;t.addEventListener("mousedown",(function(e){n=!0,1==i.mode&&i.addWalls(e,t)})),t.addEventListener("mousemove",(function(e){1==i.mode&&n&&i.addWalls(e,t)})),t.addEventListener("mouseup",(function(){n=!1})),t.addEventListener("touchstart",(function(e){n=!0,1==i.mode&&i.addWalls(e,t)})),t.addEventListener("touchmove",(function(e){1==i.mode&&n&&i.addWalls(e,t)})),t.addEventListener("touchend",(function(){n=!1}))},resetPathFind:function(){this.parent.fill(-1),this.dist.fill(1/0);var t=this;this.path.forEach((function(e){var i=t.numberToPosition(e);1!=t.field[i[0]][i[1]]&&t.vueCanvas.clearRect(i[0]*t.step,i[1]*t.step,t.step,t.step)})),this.drawGrid(this.vueCanvas),this.path=[],this.errorText=""},color:function(t,e){var i=this.numberToPosition(e);this.vueCanvas.fillStyle="#"+t,this.vueCanvas.fillRect(i[0]*this.step,i[1]*this.step,this.step,this.step)},pathFind:function(){var t=function t(e,i){Object(d["a"])(this,t),this.elem=e,this.prio=i},e=function(){function e(){Object(d["a"])(this,e),this.queue=[]}return Object(f["a"])(e,[{key:"enqueue",value:function(e,i){for(var n=new t(e,i),s=!1,r=0;r<this.queue.length;r++)if(this.queue[r].prio>n.prio){this.queue.splice(r,0,n),s=!0;break}s||this.queue.push(n)}},{key:"dequeue",value:function(){return this.queue.shift()}},{key:"isEmpty",value:function(){return 0==this.queue.length}},{key:"contains",value:function(t){for(var e=0;e<this.queue.length;e++)if(this.queue[e].elem==t)return!0;return!1}},{key:"remove",value:function(t){for(var e=0;e<this.queue.length;e++){this.queue[e].e==t&&this.queue.splice(e,1);break}}}]),e}();this.S<0&&(this.S=0,this.set(0,0,"s"),this.vueCanvas.fillStyle="green",this.vueCanvas.fillRect(0,0,this.step,this.step)),this.F<0&&(this.F=this.V-1,this.set(this.n-1,this.n-1,"f"),this.vueCanvas.fillStyle="orange",this.vueCanvas.fillRect((this.n-1)*this.step,(this.n-1)*this.step,this.step,this.step));var i=new e;this.resetPathFind(),this.dist[this.S]=0,i.enqueue(this.S,this.h(this.S));while(!i.isEmpty()){var n=i.dequeue();if(n=n.elem,n==this.F)break;for(var s=this.adj(n),r=0;r<s.length;r++){var o=s[r],a=this.numberToPosition(o);1!=this.get(a[0],a[1])&&this.relax(n,o,i)}}var h=this.parent[this.F];while(-1!=h&&h!=this.S)this.path.unshift(h),h=this.parent[h];h==this.S?this.drawPath(this.path):this.errorText="NO PATH FOUND!"}},mounted:function(){this.build(),this.initCanvas()}},c=l,p=(i("379c"),i("2877")),v=Object(p["a"])(c,h,u,!1,null,"e81ced2e",null),b=v.exports,m={name:"Controller",components:{Board:b},data:function(){return{mode:0}}},y=m,w=(i("80e5"),Object(p["a"])(y,o,a,!1,null,"3484028c",null)),g=w.exports,x={name:"App",components:{Controller:g}},S=x,k=(i("034f"),Object(p["a"])(S,s,r,!1,null,null,null)),T=k.exports,j=i("1461");n["a"].config.productionTip=!1,n["a"].use(j["a"]),new n["a"]({render:function(t){return t(T)}}).$mount("#app")},"80e5":function(t,e,i){"use strict";var n=i("3b36"),s=i.n(n);s.a},"85ec":function(t,e,i){},f846:function(t,e,i){}});
//# sourceMappingURL=app.eaffac3b.js.map